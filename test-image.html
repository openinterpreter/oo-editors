<!DOCTYPE html>
<html>
<head>
    <title>Image Load Test</title>
    <script>
        const SERVER_PORT = 38123;
        const SERVER_BASE_URL = 'http://localhost:' + SERVER_PORT;
    </script>
</head>
<body>
    <h1>Testing Image Load</h1>
    <img id="test" src="http://localhost:38123/api/media/ba3e5be21444fe8a9558f25ed5ee35f4/image1.jpg"
         onload="console.log('Image loaded successfully!', this.naturalWidth, 'x', this.naturalHeight)"
         onerror="console.error('Image failed to load!')"
         style="border: 2px solid blue;">

    <script>
        console.log('Page loaded');

        // Also test with fetch
        fetch(SERVER_BASE_URL + '/api/media/ba3e5be21444fe8a9558f25ed5ee35f4/image1.jpg')
            .then(res => {
                console.log('Fetch response status:', res.status);
                console.log('Fetch response headers:', [...res.headers]);
                return res.blob();
            })
            .then(blob => {
                console.log('Fetch blob size:', blob.size, 'type:', blob.type);
            })
            .catch(err => {
                console.error('Fetch error:', err);
            });
    </script>
</body>
</html>
